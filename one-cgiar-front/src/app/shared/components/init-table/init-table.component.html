<div class="table-container animate__animated animate__fadeIn">
    <p-table #dt1 [value]="data"  [scrollable]="true" styleClass="p-datatable-gridlines"  scrollHeight="calc(80vh - 100px)" scrollDirection="both"
    [globalFilterFields]="['acronym_and_name']">
        <ng-template pTemplate="caption">
            <div class="flex">
                <!-- <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button> -->
                <span class="p-input-icon-left ml-auto">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Search keyword" />
                </span>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th style="max-width: 100px !important; width: 100px;" pSortableColumn="official_code">ID<p-sortIcon field="code"></p-sortIcon></th>
                <th pSortableColumn="name">Initiative Name<p-sortIcon field="name"></p-sortIcon></th>
                <th style="max-width: 100px !important; width: 100px;" pSortableColumn="status">Status<p-sortIcon field="status"></p-sortIcon></th>
                <th style="max-width: 200px !important; width: 200px;" pSortableColumn="action_area_description">CGIAR Action Area<p-sortIcon field="action_area_description"></p-sortIcon></th>
                <th style="max-width: 200px !important; width: 200px;" pSortableColumn="official_code">Current Stage<p-sortIcon field="code"></p-sortIcon></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-initiative>
            <tr>
                <td style="max-width: 100px !important; width: 100px;">{{initiative.official_code}}</td>
                <td> <a class="initiative_link" routerLink="/initiatives/{{initiative.id}}/stages/{{this._dataControlService.getStageRouteByStageId(initiative.stageId)?.route}}/general-information"> <strong>{{initiative?.acronym ? (initiative.acronym +  ' - ') : ''}}</strong>{{initiative.name}}</a></td>
                <td style="max-width: 100px !important; width: 100px;">{{initiative.status}}</td>
                <td style="max-width: 200px !important; width: 200px;">{{initiative.action_area_description}}</td>
                <td style="max-width: 200px !important; width: 200px;"> <div class="tag_container"><div class="tag_current_stage" [style.backgroundColor]="parseCurrentStageColor(initiative?.stageId)"> {{initiative.description}} </div></div>  </td>
            </tr>
        </ng-template>
    </p-table>

    <div *ngIf="this._dataControlService.isAdmin">
        <app-initiative-creator></app-initiative-creator>
    </div>


</div>


