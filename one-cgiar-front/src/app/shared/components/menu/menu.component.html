<div class="container">
    <div class="menu-title">Stages</div>
    <mat-accordion>
        <mat-expansion-panel *ngIf="false" (opened)="panelOpenPC = true" (closed)="panelOpenPC = false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Pre-Concept
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-list class="menu-options">
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/general-information-pc">
                    <span>General Information</span>
                    <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_auth.generalInformationForm.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/narratives-pc">
                    <span>Narratives</span>
                    <button mat-icon-button aria-label="Verified icon" [disabled]="_auth.narrativesForm.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/geographic-scope-pc">
                    <span>Geographic scope</span>
                    <!-- <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_auth.generalInformationForm.invalid">
                        <mat-icon>verified</mat-icon>
                    </button> -->
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/key-partners-pc">
                    <span>Key partners</span>
                    <!-- <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_auth.generalInformationForm.invalid">
                        <mat-icon>verified</mat-icon>
                    </button> -->
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/feedback-pc">
                    <span>Feedback</span>
                    <!-- <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_auth.generalInformationForm.invalid">
                        <mat-icon>verified</mat-icon>
                    </button> -->
                </mat-list-item>
            </mat-list>
        </mat-expansion-panel>
        <mat-expansion-panel (opened)="panelOpenC = true" (closed)="panelOpenC = false" [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Concept
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-list class="menu-options">
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/{{this.initiativesSvc.initvStgId}}/stage-2/general-information">
                    <span>General Information</span>
                    <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_requests.generalInformationFormCs.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/{{this.initiativesSvc.initvStgId}}/stage-2/narratives">
                    <span>Narratives</span>
                    <button mat-icon-button aria-label="Verified icon" [disabled]="_requests.narrativesFormCs.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/{{this.initiativesSvc.initvStgId}}/stage-2/theory-of-change">
                    <span>Initial theory of change</span>
                    <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_requests.theoryOfChangeFormCs.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
                <!-- <mat-list-item routerLinkActive="isActive" routerLink="/initiative/work-packages-c"> -->
                    <mat-expansion-panel (opened)="panelOpenWP = true" (closed)="panelOpenWP = false">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Work packages
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-list class="menu-options-wp" *ngFor="let workPackage of _requests.workPackages">
                            <mat-list-item class="workPackage-{{workPackage.id}}" routerLink="/initiative/{{this.initiativesSvc.initvStgId}}/stage-2/work-packages/{{workPackage.id}}" [ngClass]="{'isActive' : _requests.urlId == workPackage.id}">
                                <span>{{workPackage.name}}</span>
                                <button mat-icon-button aria-label="Verified icon"
                                    [disabled]="_requests.workPackageInformationCs.invalid">
                                    <mat-icon>verified</mat-icon>
                                </button>
                            </mat-list-item>
                            
                        </mat-list>
                        <div class="add-container">
                            <button type="button" mat-raised-button class="add-button" (click)="_requests.addWorkPackage()">
                                add
                            </button>
                        </div>
                    </mat-expansion-panel>
                <mat-list-item routerLinkActive="isActive" routerLink="/initiative/{{this.initiativesSvc.initvStgId}}/stage-2/key-partners">
                    <span>Key partners</span>
                    <button mat-icon-button aria-label="Verified icon"
                        [disabled]="_requests.keyPartnersCs.invalid">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
            </mat-list>
        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="false" (opened)="panelOpenFP = true" (closed)="panelOpenFP = false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Full Proposal
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-list class="menu-options">
                <mat-list-item>General Information</mat-list-item>
                <mat-list-item>General Information</mat-list-item>
                <mat-list-item>General Information</mat-list-item>
                <mat-list-item>General Information</mat-list-item>
            </mat-list>
        </mat-expansion-panel>
    </mat-accordion>
</div>