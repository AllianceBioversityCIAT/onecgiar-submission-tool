<div class="container">
    <div class="menu-title">Stages</div>
    <mat-accordion>
        <mat-expansion-panel [expanded]="stage.active == true" *ngFor="let stage of stages;" [disabled]="stage.active == false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{stage.description}}
                </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-list class="menu-options row" *ngFor="let meta of stage.grouped ">
                <mat-list-item routerLinkActive="isActive" routerLink="{{parseStageUrl(stage, meta.title)}}">
                    <span>{{meta.title}}</span>
                    <button mat-icon-button class="mat-icon-no-color"
                        [ngClass]="{'valid': validateSubMenuForm(stage.description, meta.title) === 'VALID'}"
                        aria-label="Verified icon">
                        <mat-icon>verified</mat-icon>
                    </button>
                </mat-list-item>
            </mat-list>
        </mat-expansion-panel>
    </mat-accordion>
</div>